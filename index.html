<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luvie Edits | Portfolio</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800&display=swap" rel="stylesheet">

    <style>
        /* --- 1. GLOBAL RESET & BASE STYLES --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        
        body {
            font-family: 'Montserrat', sans-serif;
            color: #fff;
            text-align: center;
            background: #000 url("Background.jpg") no-repeat center center fixed;
            background-size: cover;
            overflow-x: hidden;
        }

        /* --- 2. HERO SECTION --- */
        .hero {
            position: relative;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .title {
            font-size: clamp(40px, 8vw, 100px);
            font-weight: 800;
            text-transform: uppercase;
            text-shadow: 0 10px 30px rgba(0,0,0,0.8);
            z-index: 2;
        }

        .character {
            position: absolute;
            bottom: 0;
            max-height: 90vh;
            z-index: 1;
            pointer-events: none;
        }
        .joker { left: -50px; transform: scaleX(-1); filter: drop-shadow(0 0 20px rgba(0,100,255,0.5)); }
        .sumire { right: -50px; filter: drop-shadow(0 0 20px rgba(255,0,60,0.5)); }

        .button {
            margin-top: 30px;
            padding: 15px 40px;
            background: #ff003c;
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 700;
            z-index: 2;
            transition: 0.3s ease;
            box-shadow: 0 0 20px rgba(255,0,60,0.4);
        }

        /* --- 3. PORTFOLIO GRID --- */
        .portfolio {
            padding: 100px 20px;
            background: rgba(0,0,0,0.95);
        }

        .video-grid {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .video-card {
            background: #0a0a0a;
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
            transition: transform 0.3s ease;
        }

        /* --- 4. PERSONA PLAYER UI (THE FIX) --- */
        .p5-player {
            position: relative;
            width: 100%;
            aspect-ratio: 16 / 9;
            background: #000;
            display: flex;
            align-items: center;
            overflow: hidden;
        }

        .p5-video { width: 100%; height: 100%; object-fit: contain; }

        .p5-bigplay {
            position: absolute;
            inset: 0;
            margin: auto;
            width: 65px; height: 65px;
            background: rgba(0,0,0,0.7);
            border: 2px solid #ff003c;
            border-radius: 15px;
            cursor: pointer;
            z-index: 5;
            display: grid;
            place-items: center;
        }

        .p5-controls {
            position: absolute;
            bottom: 0; left: 0; width: 100%;
            height: 50px;
            background: linear-gradient(transparent, rgba(0,0,0,0.9));
            display: flex;
            align-items: center;
            padding: 0 12px;
            gap: 10px;
            z-index: 10;
        }

        .p5-btn {
            background: #151515;
            border: 1px solid #333;
            color: #fff;
            width: 34px; height: 34px;
            border-radius: 8px;
            cursor: pointer;
            flex-shrink: 0; /* Ensures buttons never disappear */
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .p5-btn img { width: 14px; height: 14px; }

        .p5-time { font-size: 11px; font-weight: 700; min-width: 40px; flex-shrink: 0; }

        /* THE MAGIC PIECE: flex: 1 makes the bar absorb all extra/less space */
        .p5-progress {
            flex: 1; 
            height: 6px;
            cursor: pointer;
            accent-color: #ff003c;
        }

        .p5-vol { width: 60px; height: 5px; accent-color: #ff003c; }

        .video-label {
            padding: 15px;
            text-align: left;
            border-top: 1px solid rgba(255,255,255,0.05);
        }
        .video-label h3 { font-size: 16px; margin-bottom: 4px; }
        .video-label p { font-size: 12px; color: #777; }

        /* --- 5. MUSIC PLAYER --- */
        .music-bar {
            position: fixed;
            bottom: 20px; right: 20px;
            background: rgba(10,10,10,0.9);
            padding: 10px 15px;
            border-radius: 12px;
            border: 1px solid #ff003c;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 100;
        }

        /* --- 6. MOBILE RESPONSIVENESS --- */
        @media (max-width: 768px) {
            .character { display: none; }
            .p5-vol { display: none; } /* Hide volume on mobile to save space */
            .p5-controls { gap: 6px; padding: 0 8px; }
        }
    </style>
</head>
<body oncontextmenu="return false;">

    <section class="hero">
        <img src="joker.png" class="character joker" alt="Joker">
        <img src="sumire.png" class="character sumire" alt="Sumire">
        <h1 class="title">LUVIE EDITS</h1>
        <a href="#portfolio" class="button">WATCH WORK</a>
    </section>

    <section id="portfolio" class="portfolio">
        <div class="video-grid">
            
            <script>
                for(let i=1; i<=4; i++) {
                    document.write(`
                    <div class="video-card">
                        <div class="p5-player">
                            <video class="p5-video" playsinline src="video${i}.mp4"></video>
                            <button class="p5-bigplay"><img src="start.png"></button>
                            <div class="p5-controls">
                                <button class="p5-btn p5-play"><img src="start.png"></button>
                                <div class="p5-time">0:00</div>
                                <input type="range" class="p5-progress" value="0" min="0" max="100" step="0.1">
                                <button class="p5-btn p5-mute">ðŸ”Š</button>
                                <input type="range" class="p5-vol" min="0" max="1" step="0.1" value="0.8">
                                <button class="p5-btn p5-full">â›¶</button>
                            </div>
                        </div>
                        <div class="video-label">
                            <h3>Edit ${i}</h3>
                            <p>Persona-style player</p>
                        </div>
                    </div>
                    `);
                }
            </script>

        </div>
    </section>

    <div class="music-bar">
        <button id="mToggle" class="p5-btn"><img src="pause.png" id="mIcon"></button>
        <input type="range" id="mVol" min="0" max="1" step="0.1" value="0.5" style="width:60px">
    </div>
    <audio id="bgMusic" loop src="music1.mp3"></audio>

    <script>
        const bgMusic = document.getElementById('bgMusic');
        const mToggle = document.getElementById('mToggle');
        const mIcon = document.getElementById('mIcon');
        const mVol = document.getElementById('mVol');

        // Music Controls
        mToggle.onclick = () => {
            if(bgMusic.paused) { bgMusic.play(); mIcon.src="pause.png"; }
            else { bgMusic.pause(); mIcon.src="start.png"; }
        };
        mVol.oninput = () => bgMusic.volume = mVol.value;

        // Video Player Logic
        document.querySelectorAll('.video-card').forEach(card => {
            const video = card.querySelector('video');
            const playBtn = card.querySelector('.p5-play');
            const bigBtn = card.querySelector('.p5-bigplay');
            const prog = card.querySelector('.p5-progress');
            const time = card.querySelector('.p5-time');
            const mute = card.querySelector('.p5-mute');
            const vol = card.querySelector('.p5-vol');
            const full = card.querySelector('.p5-full');
            const player = card.querySelector('.p5-player');

            const toggle = () => {
                if(video.paused) { 
                    video.play(); 
                    bgMusic.pause(); 
                    mIcon.src="start.png"; 
                } else { 
                    video.pause(); 
                }
            };

            playBtn.onclick = bigBtn.onclick = toggle;

            video.onplay = () => { bigBtn.style.display="none"; playBtn.querySelector('img').src="pause.png"; };
            video.onpause = () => { bigBtn.style.display="grid"; playBtn.querySelector('img').src="start.png"; };

            video.ontimeupdate = () => {
                const m = Math.floor(video.currentTime / 60);
                const s = Math.floor(video.currentTime % 60).toString().padStart(2, '0');
                time.textContent = `${m}:${s}`;
                prog.value = (video.currentTime / video.duration) * 100 || 0;
            };

            prog.oninput = () => video.currentTime = (prog.value / 100) * video.duration;
            vol.oninput = () => video.volume = vol.value;
            mute.onclick = () => { video.muted = !video.muted; mute.textContent = video.muted ? "ðŸ”‡" : "ðŸ”Š"; };

            full.onclick = () => {
                if (!document.fullscreenElement) {
                    if (player.requestFullscreen) player.requestFullscreen();
                    else if (video.webkitEnterFullscreen) video.webkitEnterFullscreen();
                } else {
                    document.exitFullscreen();
                }
            };
        });
    </script>
</body>
</html>
